工业缺陷检测是一种确保产品质量和安全的技术。它使
用机器视觉、传感器技术和自动化软件等方法，检测产品表
面或内部的缺陷，如裂纹、孔洞、异物和变形，以便及时修
复或剔除不合格品。 
缺陷是产品表面的物理瑕疵，如裂纹、划痕和凹陷[3]。异
常是图像中不符合正常模式的部分[4]，包括颜色、纹理或形状
的异常变化。缺陷是具体的物理问题，而异常是更广泛的概
念，涵盖任何偏离正常情况的图像特征。
在工业缺陷检测中，缺陷通常被视为异常。如图 1 所示，
工业场景中的异常分为纹理异常和功能性异常[5]。纹理异常
涉及产品表面的纹理变化，如裂纹和划痕。功能性异常则可
能不涉及明显的纹理变化，但包含重要的语义信息，如组件
缺失、装配不正确或部件存在结构性问题。 
在深度学习中，无监督方法只使用正常图像进行训练，
无须缺陷样本。在工业场景中，正常图像远多于异常样本，
无监督方法简化了数据收集过程，减少了人工标注需求，提
高了检测效率。此外，无监督方法不依赖特定缺陷标注，能
适应新的检测任务和环境变化。 
根据输出结果粒度的不同[1]，工业缺陷检测包括分类和
定位。分类是在图像层面区分有缺陷和无缺陷图像，而定位
（异常分割）用于产生像素级别的异常位置结果。 
除缺陷检测外，还有图像分割、图像显著性检测、异常
检测和新颖性检测等相关术语。图像分割是广泛概念，缺陷
定位相当于无监督图像分割，但主要关注带有语义信息的特
定对象。图像显著性检测是找到图像中重要对象的显著区域，
但有些异常可能不显著。异常检测和缺陷检测在工业场景中
几乎等同。新颖性检测则从统计角度识别数据集中的异常值，
而缺陷检测专注于识别和分类具体的物理缺陷。


2.1 问题定义
基于视觉的工业缺陷检测旨在发现织物、芯片、药品乃至基建材料等各种工业制品的外观可见缺
陷. 这些缺陷虽然微小, 却可能严重危害产品的正常功能. 它们可能发生在工业产品的生命周期中任何
时期, 如产品的生产、运输与使用过程等.
缺陷 (defect) 的概念可类比到异常 (anomaly). 异常指超出预期模式范围的数据[1]
, 目前已有大量
工作对其进行定义与归类 [1∼5, 9, 10]
. 通常学者根据数据之间是否存在上下文关系, 将异常分为点异常、
上下文异常和集群异常 [1, 5, 10]
. 如图 1(a) 所示, 点异常又称为离群值 (outliers)
[9]
, 描述数值上偏离正
常样本的独立数据; 上下文异常同样描述数据点, 其数值属于正常范围, 但不符合局部上下文规律; 集
群异常描述一系列相关数据的集合, 集合中的每一个实例的数值在单独考察时都处于正常值域, 但集
合整体的相关性特征不服从正常模式. 具体到图像数据, 文献 [5] 根据异常是否存在明显的语义性将
图像异常分为低级纹理异常和高级语义异常. 与异常相近的概念还包括新颖点 (novelty) 和分布外数
据 (out-of-distribution, OOD)
[4]
. 在图 1(b) 所示的图像分类任务中, 基于白猫样本定义猫类. 白狗即
使颜色相近, 但因语义类别不同而属于离群值; 黑猫属于猫类, 语义类别相同, 但其颜色属性未在训练
集中出现过, 而属于新颖点; OOD 则关注数据集合的分布差异, 文本数据集与自然场景中猫的数据集
的分布呈现出明显差异. 类似地, 如图 1(c) 所示, 工业缺陷检测中, 正常样本包括多类产品, 缺陷可被
视为其外观上的 “异常”. 不同的是, 工业缺陷往往出现在图像中的小部分区域, 显著程度更低, 且语义
概念模糊. 因而, 一般的图像异常检测往往仅需区分正常与异常样本, 而工业缺陷检测更关注于检测
图像中的异常像素. 在实际工业场景中, 缺陷的定义更加主观, 因而学者们试图寻求其与异常检测的
关联. 考虑到上述几种任务的相似性, 在部分缺陷检测方法中也采用了异常检测、新颖点检测与 OOD
检测的思路. 例如, 单独考虑缺陷的像素值, 可类比为新颖点或离群值; 考虑像素间的关联时, 又可将
其类比上下文异常或集群异常.
虽然缺陷通常属于未知模式, 但仍然可以从已有的缺陷样本中发现一定的共性, 因此总结缺陷与
背景的类型有助于针对性地设计检测方法. 如图 2 所示, 依据缺陷出现的位置与表现形式, 本文将工
业缺陷分为表面缺陷与结构缺陷. 表面缺陷主要出现在产品表面的局部位置, 通常表现在纹理突变、
异状区域、反规律模式或错误的图案. 例如, 表面裂纹、色块、织物的稀织以及商标文字的印刷错误
等. 根据缺陷区域的像素值与周围背景的差异性可将其类比为离群值或集群异常: 离群值型缺陷的像
素值通常与正常图像具有明显差异; 集群异常型缺陷的像素值与周围正常区域属于同一范围, 因而更
难被发现. 结构缺陷主要是由产品整体的结构错误所致, 包括形变、错位、缺损与污染. 例如铁丝的弯
曲、二极管的边缘缺损或处于错误的位置等. 相应地, 根据是否包含产品整体结构, 背景可分为纹理类
与物体类. 纹理类聚焦产品的局部表面, 按照复杂程度依次划分为简单纹理、规则纹理与无规则纹理.
物体类包含产品整体, 结构更加复杂, 且存在产品之外的背景干扰. 此时, 不仅需要考虑表面缺陷, 也
要考虑结构缺陷. 可见, 在不同的背景上, 不同种类的缺陷微弱程度不同. 即使是同种缺陷的不同实例
之间, 可视性也可能有较大差异.
根据输出结果粒度的不同, 工业视觉缺陷检测任务一般包括分类和定位. 如图 3 所示, 对于一个
待测图像实例, 分类任务首先将其二分类为正常样本或缺陷样本; 当缺陷类型已知时, 还可进一步对
缺陷类型进行判别, 例如, 织物上可能存在穿线、异色等多种缺陷. 定位任务的目标是找到缺陷在图像
中的具体区域, 根据缺陷区域的描述方式可分为检测 (检测框) 与分割 (像素级). 事实上, 上述任务有
时是可以同时进行的, 例如, 在分类模型上利用可视化方法 [11∼13] 可实现像素级的定位, 分割结果同
样可以用来判断整图的分类. 由于工业缺陷的形状不规则、尺寸变化较大, 检测框难以精确表示缺陷
的位置, 而且容易引入较多无关的背景信息, 对缺陷检测性能的评估造成麻烦. 因而, 在实际的缺陷定
位任务中, 研究者们更关注缺陷分割方法. 鉴于此, 本文将重点论述分类与分割任务的工作.